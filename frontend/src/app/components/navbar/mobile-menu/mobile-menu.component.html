<div>
  <!-- Mobile Toggle for sidebar -->
  <button
    (click)="toggleSidebar()"
    type="button"
    class="inline-flex items-center justify-center p-2 w-10 h-10 text-sm text-gray-500 rounded-lg md:hidden bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
  >
    <span class="sr-only">Open main menu</span>
    <svg
      class="w-5 h-5"
      aria-hidden="true"
      xmlns="http://www.w3.org/2000/svg"
      fill="none"
      viewBox="0 0 17 14"
    >
      <path
        stroke="currentColor"
        stroke-linecap="round"
        stroke-linejoin="round"
        stroke-width="2"
        d="M1 1h15M1 7h15M1 13h15"
      />
    </svg>
  </button>

  <!-- Navbar Links (Desktop uniquement) -->
  <div class="hidden w-full md:block md:w-auto">
    <ul
      class="font-medium flex flex-col p-4 md:p-0 mt-4 rounded-lg bg-itemsBg md:flex-row md:space-x-4 rtl:space-x-reverse md:mt-0 md:border-0 md:bg-inherit"
    >
      <!-- Dropdown menu for categories -->
      <li>
        <app-categories-menu></app-categories-menu>
      </li>
      <!-- End Dropdown menu for categories -->

      <li>
        <a
          routerLink="/"
          class="text-primary font-medium nav-link block py-2 px-4"
        >
          {{ "navbar.home" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/about-us"
          class="text-primary font-medium nav-link block py-2 px-4"
        >
          {{ "navbar.about" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/projects"
          class="text-primary font-medium nav-link block py-2 px-4"
        >
          {{ "navbar.projects" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/contact"
          class="text-primary font-medium nav-link block py-2 px-4"
        >
          {{ "navbar.contact" | translate }}
        </a>
      </li>
    </ul>
  </div>
</div>

<!-- Sidebar -->
<div
  class="fixed inset-0 z-50 bg-gray-900 bg-opacity-50 transition-opacity duration-300 ease-in-out"
  *ngIf="sidebarOpen"
  role="overlay"
  (click)="toggleSidebar()"
>
  <aside
    class="w-64 bg-itemsBg h-full text-white fixed top-0 right-0 shadow-lg p-4 transform transition-transform duration-300 ease-in-out"
    [ngClass]="{
      'translate-x-0': sidebarOpen,
      'translate-x-full': !sidebarOpen
    }"
    (click)="$event.stopPropagation()"
  >
    <!-- Close Button -->
    <button
      type="button"
      class="absolute top-10 right-4 text-gray-500 focus:ring-2 focus:ring-gray-300 rounded-lg text-sm p-2"
      (click)="toggleSidebar()"
    >
      <span class="sr-only">Close menu</span>
      <svg
        class="w-6 h-6"
        aria-hidden="true"
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        fill="none"
        viewBox="0 0 24 24"
      >
        <path
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M6 18 17.94 6M18 18 6.06 6"
        />
      </svg>
    </button>

    <!-- Sidebar Links -->
    <ul class="mt-24 font-medium space-y-4">
      <li>
        <a
          routerLink="/"
          class="text-primary font-medium nav-link block py-2 px-4"
          (click)="toggleSidebar()"
        >
          {{ "navbar.home" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/about-us"
          class="text-primary font-medium nav-link block py-2 px-4"
          (click)="toggleSidebar()"
        >
          {{ "navbar.about" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/categories"
          class="text-primary font-medium nav-link block py-2 px-4"
          (click)="toggleSidebar()"
        >
          {{ "navbar.categories" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/projects"
          class="text-primary font-medium nav-link block py-2 px-4"
          (click)="toggleSidebar()"
        >
          {{ "navbar.projects" | translate }}
        </a>
      </li>
      <li>
        <a
          routerLink="/contact"
          class="text-primary font-medium nav-link block py-2 px-4"
          (click)="toggleSidebar()"
        >
          {{ "navbar.contact" | translate }}
        </a>
      </li>
    </ul>
  </aside>
</div>
